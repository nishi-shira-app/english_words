(this["webpackJsonpjh-school-english"]=this["webpackJsonpjh-school-english"]||[]).push([[0],{117:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(12),i=n.n(c),s=(n(117),n(11)),o=n.n(s),u=n(17),l=n(25),d=n(26),j=n(40),p=n(39),h=n(105),b=n(195),g=n(65),f=n(196),O=n(197),m=(n(44),n(177)),x=n(181),v=n(73),S=n.n(v),y=n(93),w=n.n(y),W=n(94),C=n.n(W),k=n(1),P=function(e){return Object(k.jsxs)(m.a,{showLabels:!0,style:{position:"fixed",bottom:0,width:"100%"},value:e.currentPage,onChange:function(t,n){e.changeCurrentPage(n),localStorage.setItem("currentPage",n)},children:[Object(k.jsx)(x.a,{label:"Word",value:"WordPage",icon:Object(k.jsx)(w.a,{})}),Object(k.jsx)(x.a,{label:"Grammer",value:"GrammerPage",icon:Object(k.jsx)(S.a,{})}),Object(k.jsx)(x.a,{label:"GrammerWrite",value:"GrammerWritingPage",icon:Object(k.jsx)(S.a,{})}),Object(k.jsx)(x.a,{label:"Test",value:"GrammerWritingTestPage",icon:Object(k.jsx)(C.a,{})})]})},I=n(183),N=n(182),A=n(201),T=n(62),D=n.n(T),F=function(){function e(){Object(l.a)(this,e)}return Object(d.a)(e,null,[{key:"setWordData",value:function(e){var t=[];return D.a.get("https://sheets.googleapis.com/v4/spreadsheets/10QM4n6jg93YevAhr-yS8SFp8VjaK_lv09VF_HfFxTYk/values/new_horizon_j1_word?key=AIzaSyD61LRLY0MGuJyIU9EQCb4KUDiFJRmxO1o").then((function(n){if(!Array.isArray(n.data.values))return t;var r=n.data.values;r.shift(),r.forEach((function(n){void 0!==e&&e!==n[1]||t.push({id:n[0],year:n[1],category:n[2],part:n[3],word:n[4],plural:n[5],partOfSpeech:n[6],trans:n[7],sentence:n[8],sentenceTrans:n[9]})})),sessionStorage.setItem("WORDS",JSON.stringify(t))})).catch((function(){return t}))}},{key:"getWordData",value:function(){var e=sessionStorage.getItem("WORDS"),t=[];return null!=e&&e.length>0&&JSON.parse(e).forEach((function(e){t.push({id:e.id,year:e.year,category:e.category,part:e.part,word:e.word,plural:e.plural,partOfSpeech:e.partOfSpeech,trans:e.trans,sentence:e.sentence,sentenceTrans:e.sentenceTrans})})),t}},{key:"getFavoriteWordData",value:function(){var e,t=[],n=JSON.parse(null!==(e=localStorage.getItem("favorite"))&&void 0!==e?e:"{}"),r=sessionStorage.getItem("WORDS"),a=[];return null!=r&&r.length>0?(a=JSON.parse(r),Array.isArray(n)&&n.forEach((function(e){if("Word"===e.category){var n=a.filter((function(t){return t.id===e.id}));n.length>0&&t.push({id:n[0].id,year:n[0].year,category:n[0].category,part:n[0].part,word:n[0].word,plural:n[0].plural,partOfSpeech:n[0].partOfSpeech,trans:n[0].trans,sentence:n[0].sentence,sentenceTrans:n[0].sentenceTrans})}})),t):t}},{key:"getFirstPart",value:function(){return this.getWordData().reduce((function(e,t){return e.includes(t.part)||e.push(t.part),e}),[])[0]}},{key:"getParts",value:function(){return this.getWordData().reduce((function(e,t){return e.includes(t.part)||e.push(t.part),e}),[])}},{key:"getYears",value:function(){return console.log(this.getWordData()),this.getWordData().reduce((function(e,t){return e.includes(t.year)||e.push(t.year),e}),[])}},{key:"getSentences",value:function(){return this.getWordData().reduce((function(e,t){var n={id:t.id,year:t.year,category:t.category,part:t.part,sentence:t.sentence,sentenceTrans:t.sentenceTrans};return e.some((function(e){return e.part===n.part&&e.sentence===n.sentence}))||e.push(n),e}),[])}}]),e}(),L=Object(N.a)((function(e){return Object(A.a)({root:{"& > *":{margin:e.spacing(1)}}})})),R=function(e){var t=L(),n=F.getYears();return console.log(n),Object(k.jsx)("div",{className:t.root,children:n.map((function(t){return Object(k.jsx)(I.a,{color:"primary",variant:"contained",onClick:function(){return e.onChange(t)},children:t})}))})},E=n(23),G=n(6),U=n(184),V=n(185),J=n(66),M=n(202),K=n(198),z=function(){function e(){Object(l.a)(this,e)}return Object(d.a)(e,null,[{key:"speech",value:function(e,t,n){var r=window.speechSynthesis.getVoices().filter((function(e){return e.lang===t}))[0],a=new SpeechSynthesisUtterance;a.text=e,a.lang=t,a.voice=r,a.rate=n,window.speechSynthesis.speak(a)}}]),e}(),Y=n(29),X=n.n(Y),_=n(38),B=n.n(_),H=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).wordInputElement=void 0,a.wordInputElement=r.createRef(),a}return Object(d.a)(n,[{key:"componentDidUpdate",value:function(){var e;null===(e=this.wordInputElement.current)||void 0===e||e.focus()}},{key:"componentDidMount",value:function(){var e;null===(e=this.wordInputElement.current)||void 0===e||e.focus()}},{key:"render",value:function(){var e=this,t={display:"inline-block",width:"100%",height:"20%"},n=this.props.partOfSpeech.length?this.props.partOfSpeech:"";return Object(k.jsx)("div",{className:"word-wrap",children:Object(k.jsxs)(U.a,{maxWidth:"sm",style:"\u52d5\u8a5e"===n?{backgroundColor:"#876445"}:void 0,children:[Object(k.jsxs)(V.a,{container:!0,children:[Object(k.jsx)(V.a,{item:!0,xs:10,children:Object(k.jsx)(J.a,{variant:"subtitle1",children:this.props.trans})}),Object(k.jsx)(V.a,{item:!0,xs:2,children:Object(k.jsx)(M.a,{variant:"circular",component:"span",children:n.substr(0,1)})})]}),Object(k.jsx)(J.a,{variant:"h4",className:this.props.visibleWord,children:this.props.word}),Object(k.jsx)("br",{}),Object(k.jsx)(V.a,{container:!0,direction:"row",children:Object(k.jsx)(K.a,{inputRef:this.wordInputElement,error:!this.props.isInputWordCompleted,label:this.props.isInputWordCompleted?"OK":"input word",fullWidth:!0,value:this.props.inputWordString,variant:"outlined",onChange:function(t){e.props.changeInputWord(t.target.value.toLowerCase()),e.props.word.toLowerCase()===t.target.value.toLowerCase()?(e.props.changeInputWordCompleted(!0),e.props.onClick(),z.speech("OK. "+e.props.word,"en-US",1)):e.props.changeInputWordCompleted(!1)}})}),Object(k.jsx)("br",{}),Object(k.jsxs)(V.a,{container:!0,direction:"row",spacing:5,justify:"center",alignItems:"center",children:[Object(k.jsx)(V.a,{item:!0,xs:5,children:Object(k.jsx)(I.a,{style:t,color:"primary",variant:"outlined",onClick:function(){var t;e.props.onClick(),null===(t=e.wordInputElement.current)||void 0===t||t.focus()},children:Object(k.jsx)(B.a,{})})}),Object(k.jsx)(V.a,{item:!0,xs:5,children:Object(k.jsx)(I.a,{style:t,variant:"outlined",onClick:function(){var t;z.speech(e.props.word,"en-US",1),null===(t=e.wordInputElement.current)||void 0===t||t.focus()},children:Object(k.jsx)(X.a,{})})})]})]})})}}]),n}(r.Component),Q=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t={display:"inline-block",width:"100%",height:"20%"};this.props.partOfSpeech.length&&this.props.partOfSpeech;return Object(k.jsx)("div",{className:"word-wrap",children:Object(k.jsxs)(U.a,{maxWidth:"sm",children:[Object(k.jsx)(J.a,{variant:"h4",className:this.props.visiblePlural,children:this.props.plural}),Object(k.jsx)("br",{}),Object(k.jsx)(V.a,{container:!0,direction:"row",children:Object(k.jsx)(K.a,{error:!this.props.isInputPluralCompleted,label:this.props.isInputPluralCompleted?"OK":"input plural",fullWidth:!0,value:this.props.inputPluralString,variant:"outlined",onChange:function(t){e.props.changeInputPlural(t.target.value.toLowerCase()),e.props.plural.toLowerCase()===t.target.value.toLowerCase()?(e.props.changeInputPluralCompleted(!0),e.props.onClick(),z.speech("OK. "+e.props.plural,"en-US",1)):e.props.changeInputPluralCompleted(!1)}})}),Object(k.jsx)("br",{}),Object(k.jsxs)(V.a,{container:!0,direction:"row",spacing:5,justify:"center",alignItems:"center",children:[Object(k.jsx)(V.a,{item:!0,xs:5,children:Object(k.jsx)(I.a,{style:t,color:"primary",variant:"outlined",onClick:function(){return e.props.onClick()},children:Object(k.jsx)(B.a,{})})}),Object(k.jsx)(V.a,{item:!0,xs:5,children:Object(k.jsx)(I.a,{style:t,variant:"outlined",onClick:function(){z.speech(e.props.plural,"en-US",1)},children:Object(k.jsx)(X.a,{})})})]})]})})}}]),n}(r.Component),q=n(95),Z=n.n(q),$=n(96),ee=n.n($),te=function(e){return Object(k.jsxs)(V.a,{container:!0,direction:"row",justify:"space-around",alignItems:"flex-end",children:[Object(k.jsx)(I.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return e.onClickPrev()},disabled:0===e.index||!e.isViewPrev,children:Object(k.jsx)(Z.a,{})}),Object(k.jsx)(I.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return e.onClickNext()},disabled:e.index>=e.maxPage-1||!e.isViewNext,children:Object(k.jsx)(ee.a,{})})]})},ne=n(97),re=n.n(ne),ae=n(98),ce=n.n(ae);function ie(e){var t=Object(r.useState)(!1),n=Object(G.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(e.id),s=Object(G.a)(i,2),l=(s[0],s[1],function(){var t=Object(u.a)(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],t.next=3,JSON.parse(null!==(n=localStorage.getItem("favorite"))&&void 0!==n?n:"{}");case 3:if(r=t.sent,!Array.isArray(r)){t.next=8;break}return t.abrupt("return",r.filter((function(t){return t.category===e.category&&t.id===e.id})).length>0);case 8:return t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),d=function(){var t=Object(u.a)(o.a.mark((function t(){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JSON.parse(null!==(n=localStorage.getItem("favorite"))&&void 0!==n?n:"{}");case 2:if(r=t.sent,!Array.isArray(r)){t.next=8;break}return t.next=6,l().then((function(t){t?(r=r.filter((function(t){return t.category!==e.category||t.id!==e.id})),c(!1)):(r=r.concat(e),c(!0)),localStorage.setItem("favorite",JSON.stringify(r))}));case 6:t.next=10;break;case 8:c(!0),localStorage.setItem("favorite",JSON.stringify([e]));case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){l().then((function(e){c(e)}))})),Object(k.jsx)(I.a,{variant:"contained",color:"primary",size:"small",onClick:d,children:a?Object(k.jsx)(re.a,{}):Object(k.jsx)(ce.a,{})})}var se=n(189),oe=n(200),ue=n(187),le=n(190),de=n(192),je=n(203),pe=n(188),he=n(191),be=n(193),ge=n(99),fe=n.n(ge),Oe=n(74),me=n.n(Oe),xe=n(100),ve=n.n(xe),Se=n(101),ye=n.n(Se),we=n(102),We=n.n(we),Ce=n(194),ke=function(e){var t=Object(r.useState)(!1),n=Object(G.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)([]),s=Object(G.a)(i,2),o=s[0],u=s[1],l=e.categories,d=e.parts,j="70vw";Object(r.useEffect)((function(){if(l){var t=[];l.forEach((function(n){n.parts.includes(e.currentPart)?t.push(!0):t.push(!1)})),u(t)}}),[]);var p=Object(N.a)((function(e){return Object(A.a)({header:{height:"4vh",backgroundColor:"#7A7A7A",marginBottom:"1vh"},open:{width:j},close:{width:"100%"},closeIcon:{marginTop:"16px",marginLeft:"16px"},hide:{display:"none"},list:{width:j},categories:{backgroundColor:"#333"},parts:{paddingLeft:"2em"}})})),h=function(e){var t=[];o.forEach((function(e){t.push(!1)})),null!==e&&t.splice(e,1,!0),u(t)},b=p();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(pe.a,{className:"".concat(a?b.open:b.close," ").concat(b.header),children:[Object(k.jsx)(J.a,{variant:"h6",noWrap:!0,style:{flexGrow:1,textAlign:"center"},children:e.currentPart}),Object(k.jsx)(se.a,{color:"inherit",className:a?b.hide:"","aria-label":"open drawer",edge:"end",onClick:function(){c(!a)},children:Object(k.jsx)(fe.a,{})})]}),Object(k.jsx)(oe.a,{anchor:"right",open:a,onClose:function(){return c(!1)},children:Object(k.jsxs)("div",{className:b.list,children:[Object(k.jsx)(ve.a,{className:b.closeIcon,onClick:function(){return c(!1)}}),Object(k.jsxs)(ue.a,{component:"nav","aria-label":"secondary part",children:[l&&l.map((function(t,n){return Object(k.jsxs)("div",{children:[Object(k.jsxs)(le.a,{className:b.categories,button:!0,onClick:function(){o[n]?h(null):h(n)},children:[Object(k.jsx)(he.a,{primary:t.category},"categoryText"),o[n]?Object(k.jsx)(ye.a,{}):Object(k.jsx)(We.a,{})]},"category"+n),Object(k.jsx)(de.a,{in:o[n],timeout:"auto",unmountOnExit:!0,children:Object(k.jsx)(ue.a,{component:"div",disablePadding:!0,children:t.parts.map((function(r,a){return Object(k.jsxs)(le.a,{button:!0,className:b.parts,onClick:function(){e.changeCurrentPart(r),c(!1),h(n)},children:[Object(k.jsx)(he.a,{primary:r.replaceAll(t.category,"").trim()},"subMenuText"+n+r+a),Object(k.jsx)(be.a,{children:r===e.currentPart&&Object(k.jsx)(me.a,{})},"subMenuIcon"+n+r+a)]},"subMenu"+n+r+a)}))},"subMenuList"+n)},"subMenu"+n)]},"categoryWrapper"+n)})),!l&&d&&d.map((function(t){return Object(k.jsxs)(le.a,{button:!0,onClick:function(){e.changeCurrentPart(t),c(!1)},children:[Object(k.jsx)(he.a,{primary:t}),Object(k.jsx)(be.a,{children:t===e.currentPart&&Object(k.jsx)(me.a,{})})]},t)})),Object(k.jsx)(le.a,{button:!0,onClick:function(){e.changeCurrentPart("favorite"),c(!1)},children:Object(k.jsx)(he.a,{primary:"favorite"})},"favorite")]},"menuList"),Object(k.jsx)(Ce.a,{}),Object(k.jsx)(ue.a,{component:"nav","aria-label":"thirdry speechSpeed",children:Object(k.jsxs)(le.a,{children:[Object(k.jsx)(he.a,{primary:"voice speed"}),Object(k.jsx)(je.a,{min:.1,max:1,step:.1,value:e.speechSpeedRate,"aria-labelledby":"speech-speed-rate",valueLabelDisplay:"auto",onChange:function(t,n){var r=e.speechSpeedRate;"number"===typeof n&&(r=n),e.changeSpeechSpeedRate(r)}})]},"voiceSpeedListItem")},"voiceSpeedList")]})})]})},Pe=n(32),Ie=function(){var e,t=null!==(e=localStorage.getItem("wordCurrentPart"))&&void 0!==e?e:F.getFirstPart(),n=localStorage.getItem("wordWordIndex")?Number(localStorage.getItem("wordWordIndex")):0,a=Object(r.useState)(F.getWordData().filter((function(e){return e.part===t}))),c=Object(G.a)(a,2),i=c[0],s=c[1],l=Object(r.useState)(n),d=Object(G.a)(l,2),j=d[0],p=d[1],h=Object(r.useState)(t),b=Object(G.a)(h,2),g=b[0],f=b[1],O=Object(r.useState)("word-hidden"),m=Object(G.a)(O,2),x=m[0],v=m[1],S=Object(r.useState)("word-hidden"),y=Object(G.a)(S,2),w=y[0],W=y[1],C=Object(r.useState)("word-hidden"),P=Object(G.a)(C,2),I=(P[0],P[1]),N=Object(r.useState)(!1),A=Object(G.a)(N,2),T=A[0],D=A[1],L=Object(r.useState)(!1),R=Object(G.a)(L,2),V=R[0],J=R[1],M=Object(r.useState)(""),K=Object(G.a)(M,2),z=K[0],Y=K[1],X=Object(r.useState)(""),_=Object(G.a)(X,2),B=_[0],q=_[1],Z=Object(r.useState)(.8),$=Object(G.a)(Z,2),ee=$[0],ne=$[1],re=function(){if(j>0){v("word-hidden"),W("word-hidden"),I("word-hidden"),D(!1),Y(""),q("");var e=j-1;p(e),localStorage.setItem("wordWordIndex",e.toString())}},ae=function(){if(j<i.length-1){v("word-hidden"),W("word-hidden"),I("word-hidden"),D(!1),Y(""),q("");var e=j+1;p(e),localStorage.setItem("wordWordIndex",e.toString())}},ce=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],g===t){e.next=21;break}if("favorite"!==t){e.next=8;break}return e.next=5,F.getFavoriteWordData();case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,F.getWordData().filter((function(e){return e.part===t}));case 10:n=e.sent;case 11:p(0),s(n),f(t),v("word-hidden"),I("word-hidden"),D(!1),Y(""),q(""),localStorage.setItem("wordCurrentPart",t),localStorage.setItem("wordWordIndex","0");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=Object(Pe.useSwipeable)({onSwipedLeft:function(e){e.absX>=140&&ae()},onSwipedRight:function(e){e.absX>=140&&re()},preventDefaultTouchmoveEvent:!0,trackMouse:!0});return Object(r.useEffect)((function(){ce(t)}),[]),Object(k.jsxs)(k.Fragment,{children:[g&&Object(k.jsx)(ke,{categories:null,parts:F.getParts(),currentPart:g,changeCurrentPart:function(e){return ce(e)},speechSpeedRate:ee,changeSpeechSpeedRate:function(e){return function(e){ne(e)}(e)}}),Object(k.jsxs)(U.a,{maxWidth:"sm",children:[Object(k.jsx)(te,{index:j,maxPage:i.length,isViewPrev:!0,isViewNext:!0,onClickPrev:re,onClickNext:ae}),Object(k.jsx)("hr",{}),0==i.length&&Object(k.jsx)("p",{children:"no data"}),i.length>0&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",Object(E.a)(Object(E.a)({},se),{},{children:[Object(k.jsx)(H,{word:i[j].word,partOfSpeech:i[j].partOfSpeech,trans:i[j].trans,visibleWord:x,isInputWordCompleted:T,inputWordString:z,onClick:function(){return v("word-visible")},changeInputWordCompleted:function(e){return function(e){D(e)}(e)},changeInputWord:function(e){return function(e){Y(e)}(e)}}),i[j].plural&&Object(k.jsx)(Q,{plural:i[j].plural,partOfSpeech:i[j].partOfSpeech,trans:i[j].trans,visiblePlural:w,isInputPluralCompleted:V,inputPluralString:B,onClick:function(){return W("word-visible")},changeInputPluralCompleted:function(e){return function(e){J(e)}(e)},changeInputPlural:function(e){return function(e){q(e)}(e)}})]})),Object(k.jsx)("hr",{}),Object(k.jsx)("div",{style:{textAlign:"center"},children:Object(k.jsx)(ie,{category:"Word",part:g,id:i[j].id})})]})]})]})},Ne=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t={display:"inline-block",width:"100%",height:"20%"},n=this.props.partOfSpeech.length?this.props.partOfSpeech:"";return Object(k.jsx)("div",{className:"word-wrap",children:Object(k.jsxs)(U.a,{maxWidth:"sm",children:[Object(k.jsxs)(V.a,{container:!0,children:[Object(k.jsx)(V.a,{item:!0,xs:10,children:Object(k.jsx)(J.a,{variant:"subtitle1",children:this.props.word})}),Object(k.jsx)(V.a,{item:!0,xs:2,children:Object(k.jsx)(M.a,{variant:"circular",component:"span",children:n.substr(0,1)})})]}),Object(k.jsx)(J.a,{variant:"h5",className:this.props.visibleWord,children:this.props.trans}),Object(k.jsx)("br",{}),Object(k.jsxs)(V.a,{container:!0,direction:"row",spacing:5,justify:"center",alignItems:"center",children:[Object(k.jsx)(V.a,{item:!0,xs:5,children:Object(k.jsx)(I.a,{style:t,color:"primary",variant:"outlined",onClick:function(){return e.props.onClick()},children:Object(k.jsx)(B.a,{})})}),Object(k.jsx)(V.a,{item:!0,xs:5,children:Object(k.jsx)(I.a,{style:t,variant:"outlined",onClick:function(){z.speech(e.props.word,"en-US",1)},children:Object(k.jsx)(X.a,{})})})]})]})})}}]),n}(r.Component),Ae=function(){var e,t=null!==(e=localStorage.getItem("wordTransCurrentPart"))&&void 0!==e?e:F.getFirstPart(),n=Object(r.useState)(F.getWordData().filter((function(e){return e.part===t}))),a=Object(G.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(0),o=Object(G.a)(s,2),u=o[0],l=o[1],d=Object(r.useState)("word-hidden"),j=Object(G.a)(d,2),p=j[0],h=j[1],b=Object(r.useState)(t),g=Object(G.a)(b,2),f=g[0],O=g[1],m=Object(r.useState)("word-hidden"),x=Object(G.a)(m,2),v=(x[0],x[1]),S=Object(r.useState)(!1),y=Object(G.a)(S,2),w=y[0],W=y[1],C=Object(r.useState)(""),P=Object(G.a)(C,2),I=P[0],N=P[1],A=Object(r.useState)(.8),T=Object(G.a)(A,2),D=T[0],L=T[1],R=function(){if(u>0){var e=u-1;l(e),localStorage.setItem("wordTransWordIndex",e.toString()),h("word-hidden"),v("word-hidden"),W(!1),N("")}},V=function(){if(u<c.length-1){var e=u+1;l(e),localStorage.setItem("wordTransWordIndex",e.toString()),h("word-hidden"),v("word-hidden"),W(!1),N("")}},J=Object(Pe.useSwipeable)({onSwipedLeft:function(e){e.absX>=140&&V()},onSwipedRight:function(e){e.absX>=140&&R()},preventDefaultTouchmoveEvent:!0,trackMouse:!0});return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ke,{categories:null,parts:F.getParts(),currentPart:f,changeCurrentPart:function(e){return function(e){if(f!==e){var t=F.getWordData().filter((function(t){return t.part===e}));i(t),O(e),localStorage.setItem("wordTransCurrentPart",e),l(0),localStorage.setItem("wordTransWordIndex","0"),h("word-hidden"),v("word-hidden"),W(!1),N("")}}(e)},speechSpeedRate:D,changeSpeechSpeedRate:function(e){return function(e){L(e)}(e)}}),Object(k.jsxs)(U.a,{maxWidth:"sm",children:[Object(k.jsx)(te,{index:u,maxPage:c.length,isViewPrev:!0,isViewNext:!0,onClickPrev:R,onClickNext:V}),Object(k.jsx)("hr",{}),Object(k.jsx)("div",Object(E.a)(Object(E.a)({},J),{},{children:Object(k.jsx)(Ne,{word:c[u].word,partOfSpeech:c[u].partOfSpeech,trans:c[u].trans,visibleWord:p,isInputWordCompleted:w,inputWordString:I,onClick:function(){return h("word-visible")},changeInputWordCompleted:function(e){return function(e){W(e)}(e)},changeInputWord:function(e){return function(e){N(e)}(e)}})})),Object(k.jsx)("hr",{})]})]})},Te=function(e){var t=e.stockWords,n=e.ansWords,r=e.sentence.substr(-1),a={display:"inline-block",minWidth:"20px",height:"40px",textTransform:"lowercase",margin:"5px"},c={minHeight:"30vh"};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(U.a,{maxWidth:"sm",children:Object(k.jsx)(V.a,{container:!0,children:Object(k.jsx)(J.a,{variant:"subtitle1",children:e.translate})})}),Object(k.jsx)(U.a,{maxWidth:"sm",style:c,children:Object(k.jsxs)(V.a,{container:!0,children:[n.map((function(t,n){return Object(k.jsx)(I.a,{style:a,color:e.isAnsComplated?"default":"secondary",variant:e.isAnsComplated?"outlined":"contained",size:"small",onClick:function(){return e.moveStockWords(t,n)},children:t},n)})),Object(k.jsx)(I.a,{style:a,color:"default",variant:"text",size:"small",children:r},"lastChar")]})}),Object(k.jsx)(U.a,{maxWidth:"sm",style:c,children:Object(k.jsx)(V.a,{container:!0,children:t.map((function(t,n){return Object(k.jsx)(I.a,{style:a,color:"primary",variant:"contained",size:"small",onClick:function(){return e.moveAnsWords(t,n)},children:t},n)}))})}),Object(k.jsx)("hr",{}),Object(k.jsx)(U.a,{maxWidth:"sm",style:c,children:Object(k.jsx)(V.a,{container:!0,children:Object(k.jsx)(I.a,{style:{display:"inline-block",width:"100%",height:"20%"},variant:"outlined",onClick:function(){z.speech(e.sentence,"en-US",e.speechSpeedRate)},children:Object(k.jsx)(X.a,{fontSize:"small"})})})})]})},De=function(){var e,t=null!==(e=localStorage.getItem("grammerCurrentPart"))&&void 0!==e?e:F.getFirstPart(),n=Object(r.useState)(F.getSentences().filter((function(e){return e.part===F.getFirstPart()}))),a=Object(G.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(0),o=Object(G.a)(s,2),u=o[0],l=o[1],d=Object(r.useState)(t),j=Object(G.a)(d,2),p=j[0],h=j[1],b=Object(r.useState)(c[u].sentence.toLocaleLowerCase().slice(0,-1).split(" ")),g=Object(G.a)(b,2),f=g[0],O=g[1],m=Object(r.useState)(!1),x=Object(G.a)(m,2),v=x[0],S=x[1],y=Object(r.useState)(f.map((function(e){return{weight:Math.random(),value:e}})).sort((function(e,t){return e.weight-t.weight})).map((function(e){return e.value}))),w=Object(G.a)(y,2),W=w[0],C=w[1],P=Object(r.useState)([]),I=Object(G.a)(P,2),N=I[0],A=I[1],T=Object(r.useState)(.8),D=Object(G.a)(T,2),L=D[0],R=D[1],V=function(){if(u>0){var e=u-1,t=M(c[e].sentence);l(e),O(t),C(K(t)),A([]),S(!1)}},J=function(){if(u<c.length-1){var e=u+1,t=M(c[e].sentence);l(e),O(t),C(K(t)),A([]),S(!1)}},M=function(e){return e.toLocaleLowerCase().slice(0,-1).split(" ")},K=function(e){return e.map((function(e){return{weight:Math.random(),value:e}})).sort((function(e,t){return e.weight-t.weight})).map((function(e){return e.value}))},Y=Object(Pe.useSwipeable)({onSwipedLeft:function(e){e.absX>=140&&J()},onSwipedRight:function(e){e.absX>=140&&V()},preventDefaultTouchmoveEvent:!0,trackMouse:!0});return Object(k.jsxs)(k.Fragment,{children:[""!==p&&Object(k.jsx)(ke,{categories:null,parts:F.getParts(),currentPart:p,changeCurrentPart:function(e){return function(e){if(p!==e){var t=F.getSentences().filter((function(t){return t.part===e}));i(t),h(e),l(0),localStorage.setItem("grammerCurrentPart",e),localStorage.setItem("grammerWordIndex","0");var n=M(t[0].sentence);O(n),C(K(n)),A([]),S(!1)}}(e)},speechSpeedRate:L,changeSpeechSpeedRate:function(e){return function(e){R(e)}(e)}}),Object(k.jsxs)(U.a,{children:[Object(k.jsx)(te,{index:u,maxPage:c.length,isViewPrev:!0,isViewNext:!0,onClickPrev:V,onClickNext:J}),Object(k.jsx)("hr",{}),Object(k.jsx)("div",Object(E.a)(Object(E.a)({},Y),{},{children:Object(k.jsx)(Te,{answer:f,stockWords:W,ansWords:N,sentence:c[u].sentence,translate:c[u].sentenceTrans,isAnsComplated:v,speechSpeedRate:L,moveAnsWords:function(e,t){return function(e,t){var n=N,r=W.filter((function(e,n){return n!==t}));n.push(e),A(n),C(r),z.speech(e,"en-US",1),f.length===n.length&&f.every((function(e,t){return e===n[t]}))?(S(!0),z.speech("OK. "+c[u].sentence,"en-US",L)):S(!1)}(e,t)},moveStockWords:function(e,t){return function(e,t){var n=W,r=N.filter((function(e,n){return n!==t}));n.push(e),C(n),A(r),f.length===r.length&&f.every((function(e,t){return e===r[t]}))?(S(!0),z.speech("OK. "+c[u].sentence,"en-US",L)):S(!1)}(e,t)}})}))]})]})},Fe=function(e){var t=e.stockWords,n=e.ansWords,r=e.sentence.substr(-1),a={display:"inline-block",minWidth:"20px",height:"40px",textTransform:"lowercase",margin:"5px"},c={minHeight:"10vh",paddingBottom:"40px"};return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(U.a,{maxWidth:"sm",children:Object(k.jsx)(V.a,{container:!0,children:Object(k.jsx)(J.a,{variant:"subtitle1",children:e.translate})})}),Object(k.jsx)(U.a,{maxWidth:"sm",style:c,children:Object(k.jsxs)(V.a,{container:!0,children:[n.map((function(t,n){return Object(k.jsx)(I.a,{style:a,color:e.isAnsComplated?"default":"secondary",variant:e.isAnsComplated?"outlined":"contained",size:"small",onClick:function(){return e.moveStockWords(t,n)},children:t},n)})),Object(k.jsx)(I.a,{style:a,color:"default",variant:"text",size:"small",children:r},"lastChar")]})}),Object(k.jsx)(U.a,{maxWidth:"sm",style:c,children:Object(k.jsx)(V.a,{container:!0,style:{borderTop:"1px dashed #8c8b8b"},children:t.map((function(t,n){return Object(k.jsx)(I.a,{style:a,color:"primary",variant:"contained",size:"small",onClick:function(){return e.moveAnsWords(t,n)},children:t},n)}))})}),Object(k.jsx)("hr",{}),Object(k.jsx)(U.a,{maxWidth:"sm",children:Object(k.jsxs)(V.a,{container:!0,direction:"row",justify:"space-around",alignItems:"flex-end",children:[Object(k.jsx)(I.a,{variant:"outlined",onClick:function(){z.speech(e.sentence,"en-US",e.speechSpeedRate)},children:Object(k.jsx)(X.a,{fontSize:"small"})}),Object(k.jsx)(ie,{category:"Grammer",part:e.currentPart,id:e.id})]})})]})},Le=function(){function e(){Object(l.a)(this,e)}return Object(d.a)(e,null,[{key:"setGrammerData",value:function(e){var t=[];return D.a.get("https://sheets.googleapis.com/v4/spreadsheets/10QM4n6jg93YevAhr-yS8SFp8VjaK_lv09VF_HfFxTYk/values/csv_new_horizon_j1?key=AIzaSyD61LRLY0MGuJyIU9EQCb4KUDiFJRmxO1o").then((function(n){if(!Array.isArray(n.data.values))return t;var r=n.data.values;r.shift(),r.forEach((function(n){void 0!==e&&e!==n[1]||t.push({id:n[0],year:n[1],category:n[2],part:n[3],sentence:n[4],sentenceTrans:n[5],dummyWord:n[6]})})),sessionStorage.setItem("SENTENCES",JSON.stringify(t))})).catch((function(){return t}))}},{key:"getGrammerData",value:function(){var e=sessionStorage.getItem("SENTENCES"),t=[];return null!=e&&e.length>0&&JSON.parse(e).forEach((function(e){t.push({id:e.id,year:e.year,category:e.category,part:e.part,sentence:e.sentence,sentenceTrans:e.sentenceTrans,dummyWord:e.dummyWord})})),t}},{key:"getFavoriteSentenceData",value:function(){var e,t=[],n=JSON.parse(null!==(e=localStorage.getItem("favorite"))&&void 0!==e?e:"{}"),r=sessionStorage.getItem("SENTENCES"),a=[];return null!=r&&r.length>0?(a=JSON.parse(r),Array.isArray(n)&&n.forEach((function(e){if("Grammer"===e.category){var n=a.filter((function(t){return t.id===e.id}));if(n.length>0){var r=n[0];t.push({id:r.id,year:r.year,category:r.category,part:r.part,sentence:r.sentence,sentenceTrans:r.sentenceTrans,dummyWord:r.dummyWord})}}})),t):t}},{key:"getFirstPart",value:function(){return this.getGrammerData().reduce((function(e,t){return e.includes(t.part)||e.push(t.part),e}),[])[0]}},{key:"getParts",value:function(){return this.getGrammerData().reduce((function(e,t){return e.includes(t.part)||e.push(t.part),e}),[])}},{key:"getCategories",value:function(){var e=this;return this.getGrammerData().reduce((function(e,t){return e.includes(t.category)||e.push(t.category),e}),[]).map((function(t){var n=e.getGrammerData().reduce((function(e,n){var r=n.part;return e.includes(r)||t!==n.category||e.push(r),e}),[]);return{category:t,parts:n}}))}},{key:"getSentences",value:function(){return this.getGrammerData().reduce((function(e,t){var n={id:t.id,year:t.year,category:t.category,part:t.part,sentence:t.sentence,sentenceTrans:t.sentenceTrans,dummyWord:t.dummyWord};return e.some((function(e){return e.part===n.part&&e.sentence===n.sentence}))||e.push(n),e}),[])}}]),e}(),Re=function(){var e,t=null!==(e=localStorage.getItem("grammerCurrentPart"))&&void 0!==e?e:Le.getFirstPart(),n=Object(r.useState)(Le.getSentences().filter((function(e){return e.part===t}))),a=Object(G.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)((function(){var e=localStorage.getItem("grammerWordIndex")?Number(localStorage.getItem("grammerWordIndex")):0;return Le.getSentences().filter((function(e){return e.part===t})).length>e?0:e})),l=Object(G.a)(s,2),d=l[0],j=l[1],p=Object(r.useState)(""),h=Object(G.a)(p,2),b=h[0],g=h[1],f=Object(r.useState)([]),O=Object(G.a)(f,2),m=O[0],x=O[1],v=Object(r.useState)(!1),S=Object(G.a)(v,2),y=S[0],w=S[1],W=Object(r.useState)([]),C=Object(G.a)(W,2),P=C[0],I=C[1],N=Object(r.useState)([]),A=Object(G.a)(N,2),T=A[0],D=A[1],F=Object(r.useState)(.8),L=Object(G.a)(F,2),R=L[0],V=L[1],J=function(){if(d>0){var e=d-1,t=Y(c[e].sentence);j(e),x(t);var n=t.slice();n.push(c[e].dummyWord.toLocaleLowerCase()),I(X(n)),D([]),w(!1),localStorage.setItem("grammerWordIndex",e.toString())}},M=function(){if(d<c.length-1){var e=d+1,t=Y(c[e].sentence);j(e),x(t);var n=t.slice();n.push(c[e].dummyWord.toLocaleLowerCase()),I(X(n)),D([]),w(!1),localStorage.setItem("grammerWordIndex",e.toString())}},K=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b===t){e.next=23;break}if(n=[],"favorite"!==t){e.next=8;break}return e.next=5,Le.getFavoriteSentenceData();case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,Le.getSentences().filter((function(e){return e.part===t}));case 10:n=e.sent;case 11:i(n),g(t),localStorage.setItem("grammerCurrentPart",t),j(0),localStorage.setItem("grammerWordIndex","0"),r=n.length>0?Y(n[0].sentence):[],x(r),(a=r.slice()).push(n.length>0?n[0].dummyWord.toLocaleLowerCase():""),I(X(a)),D([]),w(!1);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){return e.toLocaleLowerCase().slice(0,-1).split("  ")},X=function(e){return e.map((function(e){return{weight:Math.random(),value:e}})).sort((function(e,t){return e.weight-t.weight})).map((function(e){return e.value}))},_=Object(Pe.useSwipeable)({onSwipedLeft:function(e){e.absX>=140&&M()},onSwipedRight:function(e){e.absX>=140&&J()},preventDefaultTouchmoveEvent:!0,trackMouse:!0});return Object(r.useEffect)((function(){K(t)}),[]),Object(k.jsxs)(k.Fragment,{children:[""!==b&&Object(k.jsx)(ke,{categories:Le.getCategories(),parts:Le.getParts(),currentPart:b,changeCurrentPart:function(e){return K(e)},speechSpeedRate:R,changeSpeechSpeedRate:function(e){return function(e){V(e)}(e)}}),Object(k.jsxs)(U.a,{children:[Object(k.jsx)(te,{index:d,maxPage:c.length,isViewPrev:!0,isViewNext:!0,onClickPrev:J,onClickNext:M}),Object(k.jsx)("hr",{}),0==c.length&&Object(k.jsx)("p",{children:"no data"}),c.length>0&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",Object(E.a)(Object(E.a)({},_),{},{children:Object(k.jsx)(Fe,{id:c[d].id,currentPart:b,answer:m,stockWords:P,ansWords:T,sentence:c[d].sentence,translate:c[d].sentenceTrans,speechSpeedRate:R,isAnsComplated:y,moveAnsWords:function(e,t){return function(e,t){var n=T,r=P.filter((function(e,n){return n!==t}));n.push(e),D(n),I(r),z.speech(e,"en-US",1),m.length===n.length&&m.every((function(e,t){return e===n[t]}))?(w(!0),z.speech("OK. "+c[d].sentence,"en-US",R),console.log("OK. "+c[d].sentence)):w(!1)}(e,t)},moveStockWords:function(e,t){return function(e,t){var n=P,r=T.filter((function(e,n){return n!==t}));n.push(e),I(n),D(r),m.length===r.length&&m.every((function(e,t){return e===r[t]}))?(w(!0),z.speech("OK. "+c[d].sentence,"en-US",R)):w(!1)}(e,t)}})})),Object(k.jsx)(ue.a,{component:"nav","aria-label":"thirdry speechSpeed",children:Object(k.jsxs)(le.a,{children:[Object(k.jsx)(he.a,{primary:"voice speed"}),Object(k.jsx)(je.a,{min:.4,max:1,step:.1,value:R,"aria-labelledby":"speech-speed-rate",valueLabelDisplay:"auto",onChange:function(e,t){var n=R;"number"===typeof t&&(n=t),V(n)}})]})})]})]})]})},Ee=function(e){var t=Object(r.useRef)(null);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(U.a,{maxWidth:"sm",children:Object(k.jsxs)(V.a,{container:!0,children:[Object(k.jsx)(J.a,{variant:"subtitle1",children:e.translate}),Object(k.jsx)("br",{})]})}),Object(k.jsx)(U.a,{maxWidth:"sm",children:Object(k.jsx)(V.a,{container:!0,style:{marginBottom:"1em"},children:Object(k.jsx)(J.a,{variant:"body1",className:e.visibleSentence?"word-visible":"word-hidden",children:e.sentence})})}),Object(k.jsxs)(U.a,{maxWidth:"sm",children:[Object(k.jsx)(V.a,{container:!0,direction:"row",justify:"space-around",alignItems:"flex-end",children:Object(k.jsx)(V.a,{container:!0,direction:"row",children:Object(k.jsx)(K.a,{inputRef:t,error:!e.isAnsComplated,label:e.isAnsComplated?"OK":"input word",fullWidth:!0,value:e.inputString,variant:"outlined",onChange:function(t){e.changeInputString(t.target.value),e.changeIsAnsComplated(e.sentence===t.target.value),e.sentence===t.target.value&&(e.changeVisibleSentence(!0),z.speech("OK. "+e.sentence,"en-US",e.speechSpeedRate))}})})}),Object(k.jsx)("hr",{}),Object(k.jsxs)(V.a,{container:!0,direction:"row",spacing:5,justify:"center",alignItems:"center",children:[Object(k.jsx)(V.a,{item:!0,xs:4,children:Object(k.jsx)(I.a,{variant:"outlined",onClick:function(){z.speech(e.sentence,"en-US",e.speechSpeedRate),t.current.focus()},children:Object(k.jsx)(X.a,{fontSize:"small"})})}),Object(k.jsx)(V.a,{item:!0,xs:4,children:Object(k.jsx)(I.a,{color:"primary",variant:"outlined",onClick:function(){e.changeVisibleSentence(!e.visibleSentence),t.current.focus()},children:Object(k.jsx)(B.a,{})})}),Object(k.jsx)(V.a,{item:!0,xs:4,children:Object(k.jsx)(ie,{category:"GrammerWriting",part:e.currentPart,id:e.id})})]})]})]})},Ge=function(){var e,t=null!==(e=localStorage.getItem("grammerWritingCurrentPart"))&&void 0!==e?e:Le.getFirstPart(),n=localStorage.getItem("grammerWritingWordIndex")?Number(localStorage.getItem("grammerWritingWordIndex")):0,a=Object(r.useState)(Le.getSentences().filter((function(e){return e.part===t}))),c=Object(G.a)(a,2),i=c[0],s=c[1],l=Object(r.useState)(n),d=Object(G.a)(l,2),j=d[0],p=d[1],h=Object(r.useState)(""),b=Object(G.a)(h,2),g=b[0],f=b[1],O=Object(r.useState)(!1),m=Object(G.a)(O,2),x=m[0],v=m[1],S=Object(r.useState)(""),y=Object(G.a)(S,2),w=y[0],W=y[1],C=Object(r.useState)(!1),P=Object(G.a)(C,2),I=P[0],N=P[1],A=Object(r.useState)(.8),T=Object(G.a)(A,2),D=T[0],F=T[1],L=function(){if(j>0){var e=j-1;p(e),localStorage.setItem("grammerWritingWordIndex",e.toString()),v(!1),N(!1),W("")}},R=function(){if(j<i.length-1){var e=j+1;p(e),localStorage.setItem("grammerWritingWordIndex",e.toString()),v(!1),N(!1),W("")}},V=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g===t){e.next=18;break}if(n=[],"favorite"!==t){e.next=8;break}return e.next=5,Le.getFavoriteSentenceData();case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,Le.getSentences().filter((function(e){return e.part===t}));case 10:n=e.sent;case 11:s(n),f(t),localStorage.setItem("grammerWritingCurrentPart",t),p(0),localStorage.setItem("grammerWritingWordIndex","0"),v(!1),W("");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=Object(Pe.useSwipeable)({onSwipedLeft:function(e){e.absX>=140&&R()},onSwipedRight:function(e){e.absX>=140&&L()},preventDefaultTouchmoveEvent:!0,trackMouse:!0});return Object(r.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.next=3,localStorage.getItem("grammerWritingCurrentPart");case 3:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){e.next=11;break}e.t2=t,e.next=12;break;case 11:e.t2=Le.getFirstPart();case 12:return n=e.t2,e.next=15,V(n);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(k.jsxs)(k.Fragment,{children:[""!==g&&Object(k.jsx)(ke,{categories:Le.getCategories(),parts:Le.getParts(),currentPart:g,changeCurrentPart:function(e){return V(e)},speechSpeedRate:D,changeSpeechSpeedRate:function(e){return function(e){F(e)}(e)}}),Object(k.jsxs)(U.a,{children:[Object(k.jsx)(te,{index:j,maxPage:i.length,isViewPrev:!0,isViewNext:!0,onClickPrev:L,onClickNext:R}),Object(k.jsx)("hr",{}),0==i.length&&Object(k.jsx)("p",{children:"no data"}),i.length>0&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",Object(E.a)(Object(E.a)({},J),{},{children:Object(k.jsx)(Ee,{id:i[j].id,currentPart:g,sentence:i[j].sentence.replaceAll("  "," "),visibleSentence:I,inputString:w,translate:i[j].sentenceTrans,speechSpeedRate:D,isAnsComplated:x,changeInputString:function(e){W(e)},changeIsAnsComplated:function(e){v(e)},changeVisibleSentence:function(e){N(e)}})})),Object(k.jsx)(ue.a,{component:"nav","aria-label":"thirdry speechSpeed",children:Object(k.jsxs)(le.a,{children:[Object(k.jsx)(he.a,{primary:"voice speed"}),Object(k.jsx)(je.a,{min:.1,max:1,step:.1,value:D,"aria-labelledby":"speech-speed-rate",valueLabelDisplay:"auto",onChange:function(e,t){var n=D;"number"===typeof t&&(n=t),F(n)}})]})})]})]})]})},Ue=function(e){var t=Object(r.useRef)(null);return Object(r.useEffect)((function(){t.current.focus()})),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(U.a,{maxWidth:"sm",children:Object(k.jsxs)(V.a,{container:!0,children:[Object(k.jsx)(J.a,{variant:"subtitle1",children:e.translate}),Object(k.jsx)("br",{})]})}),Object(k.jsxs)(U.a,{maxWidth:"sm",children:[Object(k.jsx)(V.a,{container:!0,direction:"row",justify:"space-around",alignItems:"flex-end",children:Object(k.jsx)(V.a,{container:!0,direction:"row",children:Object(k.jsx)(K.a,{inputRef:t,error:!e.isAnsComplated,label:e.isAnsComplated?"OK":"input word",fullWidth:!0,value:e.inputString,variant:"outlined",onChange:function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.changeInputString(n.target.value),t.next=3,e.changeIsAnsComplated(e.sentence===n.target.value,n.target.value);case 3:if(e.sentence!==n.target.value){t.next=6;break}return t.next=6,z.speech("OK. "+e.sentence,"en-US",e.speechSpeedRate);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})})}),Object(k.jsx)("hr",{}),Object(k.jsx)(V.a,{container:!0,direction:"row",spacing:5,justify:"center",alignItems:"center",children:Object(k.jsx)(V.a,{item:!0,xs:4,children:Object(k.jsx)(ie,{category:"GrammerWriting",part:e.currentPart,id:e.id})})})]})]})},Ve=n(103),Je=n.n(Ve),Me=n(104),Ke=n.n(Me),ze=n(75),Ye=Object(N.a)((function(e){return{result:{paddingBottom:"1rem",borderBottom:"1px solid #aaa"}}})),Xe=function(){var e,t=null!==(e=localStorage.getItem("grammerWritingCurrentPart"))&&void 0!==e?e:Le.getFirstPart(),n=localStorage.getItem("grammerWritingWordIndex")?Number(localStorage.getItem("grammerWritingWordIndex")):0,a=Object(r.useState)(Object(ze.a)(Le.getSentences().filter((function(e){return e.part===t})))),c=Object(G.a)(a,2),i=c[0],s=c[1],l=Object(r.useState)(n),d=Object(G.a)(l,2),j=d[0],p=d[1],h=Object(r.useState)(""),b=Object(G.a)(h,2),g=b[0],f=b[1],O=Object(r.useState)(!1),m=Object(G.a)(O,2),x=m[0],v=m[1],S=Object(r.useState)(""),y=Object(G.a)(S,2),w=y[0],W=y[1],C=Object(r.useState)(.8),P=Object(G.a)(C,2),I=P[0],N=P[1],A=Object(r.useState)(0),T=Object(G.a)(A,2),D=T[0],F=T[1],L=Object(r.useState)([]),R=Object(G.a)(L,2),E=R[0],M=R[1],K=Object(r.useState)(!1),Y=Object(G.a)(K,2),X=Y[0],_=Y[1],B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!==e){var t=e.map((function(e){return e.part===g&&e.id===i[j].id?{part:e.part,id:e.id,sentence:e.sentence,inputString:w,isCorrect:e.isCorrect}:e}));M(t),sessionStorage.setItem("grammerWritingAnswer",JSON.stringify(t))}if(j<i.length-1){var n=j+1;p(n),localStorage.setItem("grammerWritingTestWordIndex",n.toString()),v(!1),W(""),F(0)}else _(!0)},H=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g===t){e.next=22;break}if(localStorage.setItem("grammerWritingCurrentPart",t),p(0),localStorage.setItem("grammerWritingWordIndex","0"),v(!1),W(""),F(0),M([]),_(!1),n=[],"favorite"!==t){e.next=16;break}return e.next=13,Le.getFavoriteSentenceData();case 13:n=e.sent,e.next=19;break;case 16:return e.next=18,Le.getSentences().filter((function(e){return e.part===t}));case 18:n=e.sent;case 19:s(Object(ze.a)(n)),f(t),sessionStorage.setItem("grammerWritingAnswer","");case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.next=3,localStorage.getItem("grammerWritingCurrentPart");case 3:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=7;break}e.t0=void 0!==t;case 7:if(!e.t0){e.next=11;break}e.t2=t,e.next=12;break;case 11:e.t2=Le.getFirstPart();case 12:return n=e.t2,e.next=15,H(n);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()();var e=setInterval((function(){F((function(e){return e+1}))}),1e3);return function(){return clearInterval(e)}}),[]),Object(r.useEffect)((function(){var e=E;0==E.filter((function(e){return e.part===g&&e.id===i[j].id})).length&&(e.push({part:g,id:i[j].id,sentence:i[j].sentence.replaceAll("  "," "),inputString:"",isCorrect:!1}),M(e),sessionStorage.setItem("grammerWritingAnswer",JSON.stringify(e))),30!=D||X||(j<i.length-1?z.speech("next","en-US",1):(_(!0),z.speech("end","en-US",1))),D>32&&!X&&B(e)}));var Q=Ye();return Object(k.jsxs)(k.Fragment,{children:[""!==g&&Object(k.jsx)(ke,{categories:Le.getCategories(),parts:Le.getParts(),currentPart:g,changeCurrentPart:function(e){return H(e)},speechSpeedRate:I,changeSpeechSpeedRate:function(e){return function(e){N(e)}(e)}}),Object(k.jsxs)(U.a,{children:[!X&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(te,{index:j,maxPage:i.length,isViewPrev:!1,isViewNext:!0,onClickPrev:function(){},onClickNext:function(){return B()}}),Object(k.jsx)("hr",{}),0==i.length&&Object(k.jsx)("p",{children:"no data"}),i.length>0&&Object(k.jsx)(Ue,{id:i[j].id,currentPart:g,sentence:i[j].sentence.replaceAll("  "," "),inputString:w,translate:i[j].sentenceTrans,speechSpeedRate:I,isAnsComplated:x,changeInputString:function(e){W(e)},changeIsAnsComplated:function(e,t){return function(e,t){var n=E;E.filter((function(e){return e.part===g&&e.id===i[j].id})).length>=1?n=n.map((function(n){return n.part===g&&n.id===i[j].id?{part:n.part,id:n.id,sentence:n.sentence,inputString:t,isCorrect:e}:n})):n.push({part:g,id:i[j].id,sentence:i[j].sentence.replaceAll("  "," "),inputString:"",isCorrect:e}),M(n),sessionStorage.setItem("grammerWritingAnswer",JSON.stringify(n)),v(e),e&&(z.speech("OK. "+i[j].sentence,"en-US",1),B(n))}(e,t)}}),D>=30&&Object(k.jsx)("p",{children:"time over"}),D<30&&Object(k.jsxs)("p",{children:["Time: ",30-D]})]}),X&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h3",{children:"result"}),Object(k.jsx)("div",{style:{height:"80h",overflowY:"auto"},children:E.map((function(e){return Object(k.jsxs)(V.a,{container:!0,className:Q.result,children:[Object(k.jsx)(V.a,{item:!0,xs:2,children:Object(k.jsx)(J.a,{variant:"body1",children:e.isCorrect?Object(k.jsx)(Je.a,{color:"primary"}):Object(k.jsx)(Ke.a,{color:"error"})})}),Object(k.jsxs)(V.a,{item:!0,xs:10,children:[Object(k.jsx)(J.a,{variant:"body1",children:e.sentence}),Object(k.jsxs)(J.a,{color:"error",children:[e.isCorrect?"":e.inputString+"","\xa0"]})]})]})}))})]})]})]})},_e=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var r;Object(l.a)(this,n),r=t.call(this,e);var a="WordPage";switch(localStorage.getItem("currentPage")){case"WordPage":a="WordPage";break;case"GrammerPage":a="GrammerPage";break;case"WordGrammerPage":a="WordGrammerPage";break;case"WordTransPage":a="WordTransPage";break;case"GrammerWritingPage":a="GrammerWritingPage";break;case"GrammerWritingTestPage":a="GrammerWritingTestPage";break;default:a="WordPage"}return r.state={currentYear:"",currentPage:a,isLoaded:0},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.setWordData();case 2:return e.next=4,Le.setGrammerData();case 4:return e.next=6,this.setState({isLoaded:1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Object(h.a)({palette:{primary:{main:g.a[800]},type:"dark"}}),n=function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({currentPage:n}),"WordPage"!==n){t.next=6;break}return t.next=4,F.setWordData(e.state.currentYear);case 4:t.next=9;break;case 6:if("WordTransPage"!==n){t.next=9;break}return t.next=9,Le.setGrammerData(e.state.currentYear);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=Object(u.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.setWordData(n);case 2:return t.next=4,Le.setGrammerData(n);case 4:return t.next=6,e.setState({currentYear:n,isLoaded:2});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(k.jsxs)(b.a,{theme:t,children:[Object(k.jsx)(f.a,{}),0===this.state.isLoaded&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{style:{height:"100vh",width:"100vw",display:"table-cell",verticalAlign:"middle",textAlign:"center"},children:[Object(k.jsx)(O.a,{}),Object(k.jsx)("p",{children:"now loading..."})]})}),1===this.state.isLoaded&&Object(k.jsx)(R,{onChange:r}),2===this.state.isLoaded&&Object(k.jsxs)(k.Fragment,{children:["WordPage"===this.state.currentPage&&Object(k.jsx)(Ie,{}),"WordTransPage"===this.state.currentPage&&Object(k.jsx)(Ae,{}),"WordGrammerPage"===this.state.currentPage&&Object(k.jsx)(De,{}),"GrammerPage"===this.state.currentPage&&Object(k.jsx)(Re,{}),"GrammerWritingPage"===this.state.currentPage&&Object(k.jsx)(Ge,{}),"GrammerWritingTestPage"===this.state.currentPage&&Object(k.jsx)(Xe,{}),Object(k.jsx)(P,{currentPage:this.state.currentPage,changeCurrentPage:function(e){return n(e)}})]})]})}}]),n}(a.a.Component),Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,204)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(_e,{})}),document.getElementById("root")),Be()}},[[144,1,2]]]);
//# sourceMappingURL=main.dd9209ff.chunk.js.map